(function(Y,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(Y=typeof globalThis<"u"?globalThis:Y||self,t(Y.ESCalendar={},Y.Vue))})(this,function(Y,t){"use strict";function Q(_){const F=`es-${_}`;return{n:d=>d?d.startsWith("--")?`${F}${d}`:`${F}__${d}`:F}}var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tt(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}var et={exports:{}};(function(_,F){(function(b,d){_.exports=d()})(X,function(){var b=1e3,d=6e4,M=36e5,L="millisecond",x="second",y="minute",k="hour",O="day",W="week",o="month",f="quarter",C="year",g="date",v="Invalid Date",z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(a){var r=["th","st","nd","rd"],e=a%100;return"["+a+(r[(e-20)%10]||r[e]||r[0])+"]"}},T=function(a,r,e){var s=String(a);return!s||s.length>=r?a:""+Array(r+1-s.length).join(e)+a},J={s:T,z:function(a){var r=-a.utcOffset(),e=Math.abs(r),s=Math.floor(e/60),n=e%60;return(r<=0?"+":"-")+T(s,2,"0")+":"+T(n,2,"0")},m:function a(r,e){if(r.date()<e.date())return-a(e,r);var s=12*(e.year()-r.year())+(e.month()-r.month()),n=r.clone().add(s,o),l=e-n<0,i=r.clone().add(s+(l?-1:1),o);return+(-(s+(e-n)/(l?n-i:i-n))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M:o,y:C,w:W,d:O,D:g,h:k,m:y,s:x,ms:L,Q:f}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return a===void 0}},N="en",u={};u[N]=I;var S=function(a){return a instanceof V},w=function a(r,e,s){var n;if(!r)return N;if(typeof r=="string"){var l=r.toLowerCase();u[l]&&(n=l),e&&(u[l]=e,n=l);var i=r.split("-");if(!n&&i.length>1)return a(i[0])}else{var h=r.name;u[h]=r,n=h}return!s&&n&&(N=n),n||!s&&N},m=function(a,r){if(S(a))return a.clone();var e=typeof r=="object"?r:{};return e.date=a,e.args=arguments,new V(e)},c=J;c.l=w,c.i=S,c.w=function(a,r){return m(a,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var V=function(){function a(e){this.$L=w(e.locale,null,!0),this.parse(e)}var r=a.prototype;return r.parse=function(e){this.$d=function(s){var n=s.date,l=s.utc;if(n===null)return new Date(NaN);if(c.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var i=n.match(z);if(i){var h=i[2]-1||0,$=(i[7]||"0").substring(0,3);return l?new Date(Date.UTC(i[1],h,i[3]||1,i[4]||0,i[5]||0,i[6]||0,$)):new Date(i[1],h,i[3]||1,i[4]||0,i[5]||0,i[6]||0,$)}}return new Date(n)}(e),this.$x=e.x||{},this.init()},r.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},r.$utils=function(){return c},r.isValid=function(){return this.$d.toString()!==v},r.isSame=function(e,s){var n=m(e);return this.startOf(s)<=n&&n<=this.endOf(s)},r.isAfter=function(e,s){return m(e)<this.startOf(s)},r.isBefore=function(e,s){return this.endOf(s)<m(e)},r.$g=function(e,s,n){return c.u(e)?this[s]:this.set(n,e)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(e,s){var n=this,l=!!c.u(s)||s,i=c.p(e),h=function(U,E){var j=c.w(n.$u?Date.UTC(n.$y,E,U):new Date(n.$y,E,U),n);return l?j:j.endOf(O)},$=function(U,E){return c.w(n.toDate()[U].apply(n.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(E)),n)},p=this.$W,D=this.$M,H=this.$D,B="set"+(this.$u?"UTC":"");switch(i){case C:return l?h(1,0):h(31,11);case o:return l?h(1,D):h(0,D+1);case W:var P=this.$locale().weekStart||0,Z=(p<P?p+7:p)-P;return h(l?H-Z:H+(6-Z),D);case O:case g:return $(B+"Hours",0);case k:return $(B+"Minutes",1);case y:return $(B+"Seconds",2);case x:return $(B+"Milliseconds",3);default:return this.clone()}},r.endOf=function(e){return this.startOf(e,!1)},r.$set=function(e,s){var n,l=c.p(e),i="set"+(this.$u?"UTC":""),h=(n={},n[O]=i+"Date",n[g]=i+"Date",n[o]=i+"Month",n[C]=i+"FullYear",n[k]=i+"Hours",n[y]=i+"Minutes",n[x]=i+"Seconds",n[L]=i+"Milliseconds",n)[l],$=l===O?this.$D+(s-this.$W):s;if(l===o||l===C){var p=this.clone().set(g,1);p.$d[h]($),p.init(),this.$d=p.set(g,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h]($);return this.init(),this},r.set=function(e,s){return this.clone().$set(e,s)},r.get=function(e){return this[c.p(e)]()},r.add=function(e,s){var n,l=this;e=Number(e);var i=c.p(s),h=function(D){var H=m(l);return c.w(H.date(H.date()+Math.round(D*e)),l)};if(i===o)return this.set(o,this.$M+e);if(i===C)return this.set(C,this.$y+e);if(i===O)return h(1);if(i===W)return h(7);var $=(n={},n[y]=d,n[k]=M,n[x]=b,n)[i]||1,p=this.$d.getTime()+e*$;return c.w(p,this)},r.subtract=function(e,s){return this.add(-1*e,s)},r.format=function(e){var s=this,n=this.$locale();if(!this.isValid())return n.invalidDate||v;var l=e||"YYYY-MM-DDTHH:mm:ssZ",i=c.z(this),h=this.$H,$=this.$m,p=this.$M,D=n.weekdays,H=n.months,B=function(E,j,K,G){return E&&(E[j]||E(s,l))||K[j].slice(0,G)},P=function(E){return c.s(h%12||12,E,"0")},Z=n.meridiem||function(E,j,K){var G=E<12?"AM":"PM";return K?G.toLowerCase():G},U={YY:String(this.$y).slice(-2),YYYY:this.$y,M:p+1,MM:c.s(p+1,2,"0"),MMM:B(n.monthsShort,p,H,3),MMMM:B(H,p),D:this.$D,DD:c.s(this.$D,2,"0"),d:String(this.$W),dd:B(n.weekdaysMin,this.$W,D,2),ddd:B(n.weekdaysShort,this.$W,D,3),dddd:D[this.$W],H:String(h),HH:c.s(h,2,"0"),h:P(1),hh:P(2),a:Z(h,$,!0),A:Z(h,$,!1),m:String($),mm:c.s($,2,"0"),s:String(this.$s),ss:c.s(this.$s,2,"0"),SSS:c.s(this.$ms,3,"0"),Z:i};return l.replace(A,function(E,j){return j||U[E]||i.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(e,s,n){var l,i=c.p(s),h=m(e),$=(h.utcOffset()-this.utcOffset())*d,p=this-h,D=c.m(this,h);return D=(l={},l[C]=D/12,l[o]=D,l[f]=D/3,l[W]=(p-$)/6048e5,l[O]=(p-$)/864e5,l[k]=p/M,l[y]=p/d,l[x]=p/b,l)[i]||p,n?D:c.a(D)},r.daysInMonth=function(){return this.endOf(o).$D},r.$locale=function(){return u[this.$L]},r.locale=function(e,s){if(!e)return this.$L;var n=this.clone(),l=w(e,s,!0);return l&&(n.$L=l),n},r.clone=function(){return c.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},a}(),R=V.prototype;return m.prototype=R,[["$ms",L],["$s",x],["$m",y],["$H",k],["$W",O],["$M",o],["$y",C],["$D",g]].forEach(function(a){R[a[1]]=function(r){return this.$g(r,a[0],a[1])}}),m.extend=function(a,r){return a.$i||(a(r,V,m),a.$i=!0),m},m.locale=w,m.isDayjs=S,m.unix=function(a){return m(1e3*a)},m.en=u[N],m.Ls=u,m.p={},m})})(et);var at=et.exports;const q=tt(at);var nt={exports:{}};(function(_,F){(function(b,d){_.exports=d()})(X,function(){return function(b,d,M){var L=d.prototype,x=function(o){return o&&(o.indexOf?o:o.s)},y=function(o,f,C,g,v){var z=o.name?o:o.$locale(),A=x(z[f]),I=x(z[C]),T=A||I.map(function(N){return N.slice(0,g)});if(!v)return T;var J=z.weekStart;return T.map(function(N,u){return T[(u+(J||0))%7]})},k=function(){return M.Ls[M.locale()]},O=function(o,f){return o.formats[f]||function(C){return C.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,v,z){return v||z.slice(1)})}(o.formats[f.toUpperCase()])},W=function(){var o=this;return{months:function(f){return f?f.format("MMMM"):y(o,"months")},monthsShort:function(f){return f?f.format("MMM"):y(o,"monthsShort","months",3)},firstDayOfWeek:function(){return o.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):y(o,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):y(o,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):y(o,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return O(o.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};L.localeData=function(){return W.bind(this)()},M.localeData=function(){var o=k();return{firstDayOfWeek:function(){return o.weekStart||0},weekdays:function(){return M.weekdays()},weekdaysShort:function(){return M.weekdaysShort()},weekdaysMin:function(){return M.weekdaysMin()},months:function(){return M.months()},monthsShort:function(){return M.monthsShort()},longDateFormat:function(f){return O(o,f)},meridiem:o.meridiem,ordinal:o.ordinal}},M.months=function(){return y(k(),"months")},M.monthsShort=function(){return y(k(),"monthsShort","months",3)},M.weekdays=function(o){return y(k(),"weekdays",null,null,o)},M.weekdaysShort=function(o){return y(k(),"weekdaysShort","weekdays",3,o)},M.weekdaysMin=function(o){return y(k(),"weekdaysMin","weekdays",2,o)}}})})(nt);var ot=nt.exports;const st=tt(ot),it=["aria-label"],lt=["onClick"],rt=t.defineComponent({__name:"calendar",props:{modelValue:[String,Number,Date],theme:{type:String,default:"black"},color:{type:String,default:"#0078d7"},maskColor:{type:String,default:"#818383"},maskSize:{type:Number,default:150}},emits:["update:modelValue"],setup(_,{emit:F}){const b=_;q.extend(st);const{n:d}=Q("calendar"),M=t.ref(),L=t.ref(),x=t.ref(!1),y=t.ref({left:"0px",top:"0px"}),k=t.computed(()=>M.value.getBoundingClientRect()),O=t.computed(()=>L.value.getBoundingClientRect()),W=t.computed(()=>({"--es-calendar-color-bg":`var(--es-calendar-${b.theme}-bg)`,"--es-color-primary":b.color,"--es-text-color":`var(--es-calendar-${b.theme}-color)`,"--es-calendar-mask-color":b.maskColor,"--es-calendar-mask-size":b.maskSize+"px"})),o=u=>{const S=u.clientX-k.value.left-O.value.width/2,w=u.clientY-k.value.top-O.value.height/2;y.value={left:S+"px",top:w+"px"}},f=t.computed(()=>g.value.get("year")+" "+g.value.format("MMMM")),C=t.ref(),g=t.computed({get:()=>b.modelValue?q(b.modelValue):q(C.value),set:u=>{C.value=u,F("update:modelValue",u.toDate())}}),v=t.ref([[],[],[],[],[],[]]),z=t.computed(()=>g.value.locale("en").localeData().weekdaysShort().map(u=>u.toLowerCase())),A=t.computed(()=>z.value.map(u=>u[0].toUpperCase()+u.substring(1))),I=t.computed(()=>{const u=g.value.startOf("month");return u.subtract(u.day()||7,"day")}),T=t.computed(()=>{const u=v.value,S=A.value.length,w=g.value,m=w.startOf("month").day(),c=w.endOf("month").date();let V=1;for(let R=0;R<v.value.length;R++)for(let a=0;a<S;a++){const r=I.value.add(V,"day"),e=r.date(),s=r.format("YYYY-MM-DD")===g.value.format("YYYY-MM-DD");let n="normal";V<m?n="prev-month":V-m>=c&&(n="next-month"),u[R][a]={type:n,date:r,text:e,isSelected:s},V++}return u});function J(u){g.value=u.date}function N(u,S){g.value=q(g.value.toDate()).add(S,u)}return(u,S)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(t.unref(d)()),style:t.normalizeStyle(t.unref(W))},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("header"))},[t.createElementVNode("div",{class:t.normalizeClass([t.unref(d)("header-title")])},t.toDisplayString(t.unref(f)),3),t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("prev-btn")),onClick:S[0]||(S[0]=w=>N("month",-1))},null,2),t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("next-btn")),onClick:S[1]||(S[1]=w=>N("month",1))},null,2)],2),t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("body")),ref_key:"wrapRef",ref:M,onMousemove:o,onMouseenter:S[2]||(S[2]=w=>x.value=!0),onMouseleave:S[3]||(S[3]=w=>x.value=!1)},[t.createElementVNode("table",{class:t.normalizeClass(t.unref(d)("table")),cellpadding:"0",cellspacing:"0"},[t.createElementVNode("tbody",null,[t.createElementVNode("tr",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(A),w=>(t.openBlock(),t.createElementBlock("th",{"aria-label":w+"",scope:"col"},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("col-title"))},t.toDisplayString(w),3)],8,it))),256))]),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(T),(w,m)=>(t.openBlock(),t.createElementBlock("tr",{key:m},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(w,(c,V)=>(t.openBlock(),t.createElementBlock("td",{key:`${m+V}`,class:t.normalizeClass([t.unref(d)("col"),c.type,{selected:c.isSelected}]),onClick:R=>J(c)},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("col-wrap"))},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("col-wrap-box"))},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("col-inner"))},[t.renderSlot(u.$slots,"default",{data:c},()=>[t.createTextVNode(t.toDisplayString(c.text),1)])],2)],2)],2)],10,lt))),128))]))),128))])],2),t.withDirectives(t.createElementVNode("div",{ref_key:"maskRef",ref:L,class:t.normalizeClass(t.unref(d)("circle")),style:t.normalizeStyle(y.value)},null,6),[[t.vShow,x.value]])],34)],6))}}),ut="",ct=_=>{_.component("es-calendar",rt)};Y.createNamespace=Q,Y.default=rt,Y.install=ct,Object.defineProperties(Y,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
