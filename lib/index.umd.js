(function(V,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(V=typeof globalThis<"u"?globalThis:V||self,t(V.ESCalendar={},V.Vue))})(this,function(V,t){"use strict";function Q(S){const Y=`es-${S}`;return{n:d=>d?d.startsWith("--")?`${Y}${d}`:`${Y}__${d}`:Y}}var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tt(S){return S&&S.__esModule&&Object.prototype.hasOwnProperty.call(S,"default")?S.default:S}var et={exports:{}};(function(S,Y){(function(D,d){S.exports=d()})(X,function(){var D=1e3,d=6e4,y=36e5,W="millisecond",x="second",$="minute",_="hour",O="day",H="week",a="month",f="quarter",b="year",g="date",z="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(o){var r=["th","st","nd","rd"],e=o%100;return"["+o+(r[(e-20)%10]||r[e]||r[0])+"]"}},B=function(o,r,e){var s=String(o);return!s||s.length>=r?o:""+Array(r+1-s.length).join(e)+o},J={s:B,z:function(o){var r=-o.utcOffset(),e=Math.abs(r),s=Math.floor(e/60),n=e%60;return(r<=0?"+":"-")+B(s,2,"0")+":"+B(n,2,"0")},m:function o(r,e){if(r.date()<e.date())return-o(e,r);var s=12*(e.year()-r.year())+(e.month()-r.month()),n=r.clone().add(s,a),l=e-n<0,i=r.clone().add(s+(l?-1:1),a);return+(-(s+(e-n)/(l?n-i:i-n))||0)},a:function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},p:function(o){return{M:a,y:b,w:H,d:O,D:g,h:_,m:$,s:x,ms:W,Q:f}[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(o){return o===void 0}},N="en",u={};u[N]=U;var k=function(o){return o instanceof v},w=function o(r,e,s){var n;if(!r)return N;if(typeof r=="string"){var l=r.toLowerCase();u[l]&&(n=l),e&&(u[l]=e,n=l);var i=r.split("-");if(!n&&i.length>1)return o(i[0])}else{var h=r.name;u[h]=r,n=h}return!s&&n&&(N=n),n||!s&&N},m=function(o,r){if(k(o))return o.clone();var e=typeof r=="object"?r:{};return e.date=o,e.args=arguments,new v(e)},c=J;c.l=w,c.i=k,c.w=function(o,r){return m(o,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var v=function(){function o(e){this.$L=w(e.locale,null,!0),this.parse(e)}var r=o.prototype;return r.parse=function(e){this.$d=function(s){var n=s.date,l=s.utc;if(n===null)return new Date(NaN);if(c.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var i=n.match(T);if(i){var h=i[2]-1||0,M=(i[7]||"0").substring(0,3);return l?new Date(Date.UTC(i[1],h,i[3]||1,i[4]||0,i[5]||0,i[6]||0,M)):new Date(i[1],h,i[3]||1,i[4]||0,i[5]||0,i[6]||0,M)}}return new Date(n)}(e),this.$x=e.x||{},this.init()},r.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},r.$utils=function(){return c},r.isValid=function(){return this.$d.toString()!==z},r.isSame=function(e,s){var n=m(e);return this.startOf(s)<=n&&n<=this.endOf(s)},r.isAfter=function(e,s){return m(e)<this.startOf(s)},r.isBefore=function(e,s){return this.endOf(s)<m(e)},r.$g=function(e,s,n){return c.u(e)?this[s]:this.set(n,e)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(e,s){var n=this,l=!!c.u(s)||s,i=c.p(e),h=function(I,E){var F=c.w(n.$u?Date.UTC(n.$y,E,I):new Date(n.$y,E,I),n);return l?F:F.endOf(O)},M=function(I,E){return c.w(n.toDate()[I].apply(n.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(E)),n)},p=this.$W,C=this.$M,j=this.$D,L="set"+(this.$u?"UTC":"");switch(i){case b:return l?h(1,0):h(31,11);case a:return l?h(1,C):h(0,C+1);case H:var P=this.$locale().weekStart||0,Z=(p<P?p+7:p)-P;return h(l?j-Z:j+(6-Z),C);case O:case g:return M(L+"Hours",0);case _:return M(L+"Minutes",1);case $:return M(L+"Seconds",2);case x:return M(L+"Milliseconds",3);default:return this.clone()}},r.endOf=function(e){return this.startOf(e,!1)},r.$set=function(e,s){var n,l=c.p(e),i="set"+(this.$u?"UTC":""),h=(n={},n[O]=i+"Date",n[g]=i+"Date",n[a]=i+"Month",n[b]=i+"FullYear",n[_]=i+"Hours",n[$]=i+"Minutes",n[x]=i+"Seconds",n[W]=i+"Milliseconds",n)[l],M=l===O?this.$D+(s-this.$W):s;if(l===a||l===b){var p=this.clone().set(g,1);p.$d[h](M),p.init(),this.$d=p.set(g,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](M);return this.init(),this},r.set=function(e,s){return this.clone().$set(e,s)},r.get=function(e){return this[c.p(e)]()},r.add=function(e,s){var n,l=this;e=Number(e);var i=c.p(s),h=function(C){var j=m(l);return c.w(j.date(j.date()+Math.round(C*e)),l)};if(i===a)return this.set(a,this.$M+e);if(i===b)return this.set(b,this.$y+e);if(i===O)return h(1);if(i===H)return h(7);var M=(n={},n[$]=d,n[_]=y,n[x]=D,n)[i]||1,p=this.$d.getTime()+e*M;return c.w(p,this)},r.subtract=function(e,s){return this.add(-1*e,s)},r.format=function(e){var s=this,n=this.$locale();if(!this.isValid())return n.invalidDate||z;var l=e||"YYYY-MM-DDTHH:mm:ssZ",i=c.z(this),h=this.$H,M=this.$m,p=this.$M,C=n.weekdays,j=n.months,L=function(E,F,K,G){return E&&(E[F]||E(s,l))||K[F].slice(0,G)},P=function(E){return c.s(h%12||12,E,"0")},Z=n.meridiem||function(E,F,K){var G=E<12?"AM":"PM";return K?G.toLowerCase():G},I={YY:String(this.$y).slice(-2),YYYY:this.$y,M:p+1,MM:c.s(p+1,2,"0"),MMM:L(n.monthsShort,p,j,3),MMMM:L(j,p),D:this.$D,DD:c.s(this.$D,2,"0"),d:String(this.$W),dd:L(n.weekdaysMin,this.$W,C,2),ddd:L(n.weekdaysShort,this.$W,C,3),dddd:C[this.$W],H:String(h),HH:c.s(h,2,"0"),h:P(1),hh:P(2),a:Z(h,M,!0),A:Z(h,M,!1),m:String(M),mm:c.s(M,2,"0"),s:String(this.$s),ss:c.s(this.$s,2,"0"),SSS:c.s(this.$ms,3,"0"),Z:i};return l.replace(A,function(E,F){return F||I[E]||i.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(e,s,n){var l,i=c.p(s),h=m(e),M=(h.utcOffset()-this.utcOffset())*d,p=this-h,C=c.m(this,h);return C=(l={},l[b]=C/12,l[a]=C,l[f]=C/3,l[H]=(p-M)/6048e5,l[O]=(p-M)/864e5,l[_]=p/y,l[$]=p/d,l[x]=p/D,l)[i]||p,n?C:c.a(C)},r.daysInMonth=function(){return this.endOf(a).$D},r.$locale=function(){return u[this.$L]},r.locale=function(e,s){if(!e)return this.$L;var n=this.clone(),l=w(e,s,!0);return l&&(n.$L=l),n},r.clone=function(){return c.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},o}(),R=v.prototype;return m.prototype=R,[["$ms",W],["$s",x],["$m",$],["$H",_],["$W",O],["$M",a],["$y",b],["$D",g]].forEach(function(o){R[o[1]]=function(r){return this.$g(r,o[0],o[1])}}),m.extend=function(o,r){return o.$i||(o(r,v,m),o.$i=!0),m},m.locale=w,m.isDayjs=k,m.unix=function(o){return m(1e3*o)},m.en=u[N],m.Ls=u,m.p={},m})})(et);var ot=et.exports;const q=tt(ot);var nt={exports:{}};(function(S,Y){(function(D,d){S.exports=d()})(X,function(){return function(D,d,y){var W=d.prototype,x=function(a){return a&&(a.indexOf?a:a.s)},$=function(a,f,b,g,z){var T=a.name?a:a.$locale(),A=x(T[f]),U=x(T[b]),B=A||U.map(function(N){return N.slice(0,g)});if(!z)return B;var J=T.weekStart;return B.map(function(N,u){return B[(u+(J||0))%7]})},_=function(){return y.Ls[y.locale()]},O=function(a,f){return a.formats[f]||function(b){return b.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,z,T){return z||T.slice(1)})}(a.formats[f.toUpperCase()])},H=function(){var a=this;return{months:function(f){return f?f.format("MMMM"):$(a,"months")},monthsShort:function(f){return f?f.format("MMM"):$(a,"monthsShort","months",3)},firstDayOfWeek:function(){return a.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):$(a,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):$(a,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):$(a,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return O(a.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};W.localeData=function(){return H.bind(this)()},y.localeData=function(){var a=_();return{firstDayOfWeek:function(){return a.weekStart||0},weekdays:function(){return y.weekdays()},weekdaysShort:function(){return y.weekdaysShort()},weekdaysMin:function(){return y.weekdaysMin()},months:function(){return y.months()},monthsShort:function(){return y.monthsShort()},longDateFormat:function(f){return O(a,f)},meridiem:a.meridiem,ordinal:a.ordinal}},y.months=function(){return $(_(),"months")},y.monthsShort=function(){return $(_(),"monthsShort","months",3)},y.weekdays=function(a){return $(_(),"weekdays",null,null,a)},y.weekdaysShort=function(a){return $(_(),"weekdaysShort","weekdays",3,a)},y.weekdaysMin=function(a){return $(_(),"weekdaysMin","weekdays",2,a)}}})})(nt);var at=nt.exports;const st=tt(at),it=["aria-label"],lt=["onClick"],ct=t.defineComponent({__name:"calendar",props:{modelValue:[String,Number,Date],theme:{type:String,default:"black"},color:{type:String,default:"#0078d7"},maskColor:{type:String,default:"#818383"},maskSize:{type:Number,default:150}},emits:["update:modelValue"],setup(S,{emit:Y}){const D=S;q.extend(st);const{n:d}=Q("calendar"),y=t.ref(),W=t.ref(),x=t.ref(!1),$=t.ref({left:"0px",top:"0px"}),_=t.computed(()=>y.value.getBoundingClientRect()),O=t.computed(()=>W.value.getBoundingClientRect()),H=t.computed(()=>({"--es-calendar-color-bg":`var(--es-calendar-${D.theme}-bg)`,"--es-color-primary":D.color,"--es-text-color":`var(--es-calendar-${D.theme}-color)`,"--es-calendar-mask-color":D.maskColor,"--es-calendar-mask-size":D.maskSize+"px"})),a=u=>{const k=u.clientX-_.value.left-O.value.width/2,w=u.clientY-_.value.top-O.value.height/2;$.value={left:k+"px",top:w+"px"}},f=t.computed(()=>g.value.get("year")+" "+g.value.format("MMMM")),b=t.ref(),g=t.computed({get:()=>D.modelValue?q(D.modelValue):q(b.value),set:u=>{b.value=u,Y("update:modelValue",u.toDate())}}),z=t.ref([[],[],[],[],[],[]]),T=t.computed(()=>g.value.locale("en").localeData().weekdaysShort().map(u=>u.toLowerCase())),A=t.computed(()=>T.value.map(u=>u[0].toUpperCase()+u.substring(1))),U=t.computed(()=>{const u=g.value.startOf("month");return u.subtract(u.day()||7,"day")}),B=t.computed(()=>{const u=z.value,k=A.value.length,w=g.value,m=w.startOf("month").day(),c=w.endOf("month").date();let v=1;for(let R=0;R<z.value.length;R++)for(let o=0;o<k;o++){const r=U.value.add(v,"day"),e=r.date(),s=r.format("YYYY-MM-DD")===g.value.format("YYYY-MM-DD");let n="normal";v<m?n="prev-month":v-m>=c&&(n="next-month"),u[R][o]={type:n,date:r,text:e,isSelected:s},v++}return u});function J(u){g.value=u.date}function N(u,k){g.value=q(g.value.toDate()).add(k,u)}return(u,k)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(t.unref(d)()),style:t.normalizeStyle(t.unref(H))},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("header"))},[t.createElementVNode("div",{class:t.normalizeClass([t.unref(d)("header-title")])},t.toDisplayString(t.unref(f)),3),t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("prev-btn")),onClick:k[0]||(k[0]=w=>N("month",-1))},null,2),t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("next-btn")),onClick:k[1]||(k[1]=w=>N("month",1))},null,2)],2),t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("body")),ref_key:"wrapRef",ref:y,onMousemove:a,onMouseenter:k[2]||(k[2]=w=>x.value=!0),onMouseleave:k[3]||(k[3]=w=>x.value=!1)},[t.createElementVNode("table",{class:t.normalizeClass(t.unref(d)("table")),cellpadding:"0",cellspacing:"0"},[t.createElementVNode("tbody",null,[t.createElementVNode("tr",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(A),w=>(t.openBlock(),t.createElementBlock("th",{"aria-label":w+"",scope:"col"},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("col-title"))},t.toDisplayString(w),3)],8,it))),256))]),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(B),(w,m)=>(t.openBlock(),t.createElementBlock("tr",{key:m},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(w,(c,v)=>(t.openBlock(),t.createElementBlock("td",{key:`${m+v}`,class:t.normalizeClass([t.unref(d)("col"),c.type,{selected:c.isSelected}]),onClick:R=>J(c)},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("col-wrap"))},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("col-wrap-box"))},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(d)("col-inner"))},[t.renderSlot(u.$slots,"default",{data:c},()=>[t.createTextVNode(t.toDisplayString(c.text),1)],!0)],2)],2)],2)],10,lt))),128))]))),128))])],2),t.withDirectives(t.createElementVNode("div",{ref_key:"maskRef",ref:W,class:t.normalizeClass(t.unref(d)("circle")),style:t.normalizeStyle($.value)},null,6),[[t.vShow,x.value]])],34)],6))}}),dt="",rt=((S,Y)=>{const D=S.__vccOpts||S;for(const[d,y]of Y)D[d]=y;return D})(ct,[["__scopeId","data-v-cc54d846"]]),ut=S=>{S.component("es-calendar",rt)};V.createNamespace=Q,V.default=rt,V.install=ut,Object.defineProperties(V,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
